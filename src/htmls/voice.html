<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Voice Assistant</title>
</head>
<body>
    <script>
        const synth = window.speechSynthesis;
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;

        recognition.onresult = function(event) {
            const speechResult = event.results[0][0].transcript;
            console.log('Result received: ' + speechResult);
            window.java.receiveSpeechInput(speechResult);
        };

        recognition.onspeechend = function() {
            recognition.stop();
        };

        recognition.onerror = function(event) {
            console.log('Error occurred in recognition: ' + event.error);
        };

        function startRecognition() {
            recognition.start();
        }

        function speakText(text) {
            const utterThis = new SpeechSynthesisUtterance(text);
            synth.speak(utterThis);
        }

        window.java = {
            startRecognition: startRecognition,
            speakText: speakText
        };
    </script>
</body>
</html>
